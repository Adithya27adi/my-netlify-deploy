{% extends 'base.html' %}
{% block title %}My Profile - RTO Management{% endblock %}

{% block content %}
<style>
:root {
  --brand1:#5b7bff;
  --brand2:#8a5bff;
  --success:#2ecc71;
  --danger:#ff4757;
  --warning:#f39c12;
  --bg:#0d1117;
  --bg2:#161b22;
  --glass:rgba(30,30,30,0.92);
  --glass2:rgba(30,30,30,0.85);
  --text:#eaf0ff;
  --muted:#9baacf;
  --radius:18px;
  --shadow:0 12px 40px rgba(0,0,0,.33);
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Inter', sans-serif;
}
.profile-flex {
  display: flex;
  gap: 32px;
  align-items: stretch;
  justify-content: center;
  margin-top: 24px;
  margin-bottom: 32px;
  flex-wrap: wrap;
}
.profile-card, .info-card {
  background: var(--glass);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 0;
  display: flex;
  flex-direction: column;
  flex: 1 1 340px;
  min-width: 320px;
  max-width: 420px;
  min-height: 400px;
  height: 100%;
}
.profile-card {
  max-width: 360px;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px 0 40px 0;
}
.info-card {
  padding: 0 0 36px 0;
  justify-content: flex-start;
  max-width: 600px;
}
.profile-picture {
  margin: 0 auto 18px auto;
}
.profile-picture img, .profile-picture .fallback {
  width: 110px;
  height: 110px;
  object-fit: cover;
  border-radius: 50%;
  background: var(--brand1);
  display: flex;
  align-items: center;
  justify-content: center;
}
.profile-card h5 {
  font-weight: 700;
  font-size: 1.25rem;
  color: var(--brand1);
  margin-bottom: 4px;
}
.profile-card p {
  font-size: 1rem;
  color: var(--muted);
  margin-bottom: 18px;
}
.edit-btn {
  font-weight: 600;
  padding: 10px 24px;
  border-radius: 28px;
  border: 2px solid var(--brand1);
  color: var(--brand1);
  background: transparent;
  transition: all 0.2s;
  margin-top: 5px;
  font-size: 1rem;
  text-decoration: none;
  display: inline-block;
}
.edit-btn:hover{
  background: var(--brand1);
  color: #fff;
}
.info-header {
  background: var(--glass2);
  border-radius: var(--radius) var(--radius) 0 0;
  padding: 20px 36px 14px 36px;
  color: var(--brand1);
  font-size: 1.15rem;
  font-weight: 700;
  border-bottom: 1.5px solid rgba(90,90,120,0.08);
  display: flex;
  align-items: center;
  gap: 8px;
}
.info-content {
  padding: 32px 36px 0 36px;
  display: flex;
  flex-direction: column;
  gap: 26px;
}
.info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  column-gap: 28px;
  row-gap: 18px;
}
.info-label {
  font-size: 0.97rem;
  font-weight: 500;
  color: var(--muted);
  margin-bottom: 6px;
}
.info-value {
  font-size: 1.11rem;
  font-weight: 600;
  color: var(--text);
  word-break: break-word;
}
@media (max-width: 1100px){
  .profile-flex { flex-direction: column; gap: 24px; }
  .profile-card, .info-card { min-height: unset; max-width: 100%; }
  .info-header, .info-content { padding-left: 24px; padding-right: 24px; }
}
@media (max-width: 600px) {
  .profile-card, .info-card { padding-left: 10px; padding-right: 10px; }
  .info-header, .info-content {
    padding-left: 12px;
    padding-right: 12px;
  }
}
</style>

<div class="container">
  <div class="profile-flex">
    <!-- Profile Card (Left) -->
    <div class="profile-card">
      <div class="profile-picture mb-3">
        {% if profile.profile_picture %}
          <img src="{{ profile.profile_picture.url }}" alt="Profile" />
        {% else %}
          <div class="fallback d-flex align-items-center justify-content-center bg-primary bg-opacity-10" style="width:110px;height:110px;">
            <i class="fas fa-user text-primary fa-3x"></i>
          </div>
        {% endif %}
      </div>
      <h5>{{ user.first_name|default:user.email }}</h5>
      <p>{{ user.email }}</p>
      <a href="{% url 'core:edit_profile' %}" class="edit-btn">
        <i class="fas fa-edit me-2"></i>Edit Profile
      </a>
    </div>
    <!-- Info Card (Right) -->
    <div class="info-card">
      <div class="info-header">
        <i class="fas fa-user-circle"></i> Profile Information
      </div>
      <div class="info-content">
        <div class="info-grid">
          <div>
            <div class="info-label">Full Name</div>
            <div class="info-value">{{ user.first_name|default:"Not provided" }}</div>
          </div>
          <div>
            <div class="info-label">Email Address</div>
            <div class="info-value">{{ user.email }}</div>
          </div>
          <div>
            <div class="info-label">Phone Number</div>
            <div class="info-value">{{ profile.phone|default:"Not provided" }}</div>
          </div>
          <div>
            <div class="info-label">Date Joined</div>
            <div class="info-value">{{ user.date_joined|date:"F d, Y" }}</div>
          </div>
        </div>
        <div style="margin-top:10px;">
          <div class="info-label">Address</div>
          <div class="info-value">{{ profile.address|default:"Not provided" }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
